# https://github.com/bradyjoslin/espanso-package-cht
# ------------------------------------------

matches:
  - regex: "\bch (?P<query>.+)\\r" # macOS requires `\r` instead of `\n` as line break here
    replace: "{{output}}\n"
    vars:
      - name: output
        type: shell
        params: # first space â†’ /, all other spaces "+" for url
          cmd: |
            QUERY=$(echo "$ESPANSO_QUERY" | sed 's/ /\//' | tr " " "+")
            curl "https://cht.sh/$QUERY?TQ"

