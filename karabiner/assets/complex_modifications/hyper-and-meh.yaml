title: ⇪ Hyper and ↹ Meh Key
homepage: https://github.com/chrisgrieser/dotfiles/karabiner
rules:
  - description: ↹ Tab → Meh
    manipulators:
      - type: basic
        from:
          key_code: tab
        to_if_alone:
          - key_code: tab
        to:
          - key_code: right_shift
            modifiers:
              - right_control
              - right_option
        conditions:
          - type: frontmost_application_unless
            bundle_identifiers:
              - ^com\.KonfaGames\.DespotsGame$
  - description: ⇪ Capslock → Hyper/Esc
    manipulators:
      # Capslock to Hyper
      - type: basic
        from:
          key_code: caps_lock
        to:
          - key_code: escape  # Capslock to Esc
        conditions:
          - type: frontmost_application_if
            bundle_identifiers:
              - ^dev\.warp\.Warp-Stable$
      - type: basic
        from:
          key_code: caps_lock
        to_if_alone:
          - key_code: escape  # Capslock to Esc
        to:
          - key_code: right_shift
            modifiers:
              - command
              - control
              - option
        conditions:
          - type: variable_unless
            name: LEADER_ACTIVE
            value: true
          - type: variable_unless
            name: FINDER_INSERT_MODE
            value: true
          - type: variable_unless
            name: FINDER_SEARCH_MODE
            value: true
          - type: variable_unless
            name: FINDER_CUT_ACTIVE
            value: true
          - type: frontmost_application_unless
            bundle_identifiers:
              - ^dev\.warp\.Warp-Stable$
      # Capslock/Shift to Hyper/Shift
      - type: basic
        from:
          key_code: caps_lock
          modifiers:
            mandatory:
              - left_shift
        to:
          - key_code: left_shift
            modifiers:
              - command
              - right_shift
              - control
              - option
        conditions:
          - type: variable_unless
            name: LEADER_ACTIVE
            value: true
      # Avoid starting sysdiagnose with the built-in macOS shortcut cmd+shift+option+ctrl+,
      - from:
          key_code: comma
          modifiers:
            mandatory:
              - command
              - shift
              - option
              - control
        to:
          - key_code: vk_none
        type: basic
  - description: Keep Esc to Force Quit
    manipulators:
      - type: basic
        from:
          key_code: f18
          modifiers:
            mandatory:
              - command
              - option
        to:
          key_code: escape
          modifiers:
            - command
            - option
